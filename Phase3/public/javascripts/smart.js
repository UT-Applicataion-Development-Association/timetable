
var csc108l0101 = {
	courseCode: "csc108",
	tittle:'',
	description:'',
	sectionCode: "L0101",
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 16,
		end: 17,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 16,
		end: 17,
		type: "lec"
	},{
		weekday: "fri",
		instructor: "Dianne",
		location: "BA1070",
		start: 16,
		end: 17,
		type: "tut"
	}],
	score: 5
}
var csc108l0102 = {
	courseCode: "csc108",
	sectionCode: "L0102",
	tittle:'',
	description:'',
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 10,
		end: 11,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 10,
		end: 11,
		type: "lec"
	},{
		weekday: "fri",
		instructor: "Dianne",
		location: "BA1070",
		start: 10,
		end: 1,
		type: "tut"
	}],
	score: 4
}
var csc108l0201 = {
	courseCode: "csc108",
	sectionCode: "L0201",
	tittle:'',
	description:'',
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 13,
		end: 14,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 13,
		end: 14,
		type: "lec"
	},{
		weekday: "fri",
		instructor: "Dianne",
		location: "BA1070",
		start: 13,
		end: 14,
		type: "tut"
	}],
	score: 3
}
var csc108l0501 = {
	courseCode: "csc108",
	sectionCode: "L0501",
	tittle:'',
	description:'',
	time: [{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 18,
		end: 21,
		type: "lec"
	}],
	score: 3
}
var csc165l0101 = {
	courseCode: "csc165",
	sectionCode: "L0101",
	tittle:'',
	description:'',
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 11,
		end: 13,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 11,
		end: 12,
		type: "lec"
	},{
		weekday: "fri",
		instructor: "Dianne",
		location: "BA1070",
		start: 11,
		end: 13,
		type: "tut"
	}],
	score: 0
}
var csc165l0201 = {
	courseCode: "csc165",
	sectionCode: "L0201",
	tittle:'',
	description:'',
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 14,
		end: 16,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 12,
		end: 13,
		type: "lec"
	},{
		weekday: "fri",
		instructor: "Dianne",
		location: "BA1070",
		start: 14,
		end: 16,
		type: "tut"
	}],
	score: 0
}
var mat137l0101 = {
	courseCode: "mat137",
	sectionCode: "L0101",
	tittle:'',
	description:'',
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 9,
		end: 10,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 9,
		end: 10,
		type: "lec"
	},{
		weekday: "fri",
		instructor: "Dianne",
		location: "BA1070",
		start: 9,
		end: 10,
		type: "tut"
	}],
	score: 0
}
var mat137l0201 = {
	courseCode: "mat137",
	sectionCode: "L0201",
	tittle:'',
	description:'',
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 10,
		end: 11,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 10,
		end: 11,
		type: "lec"
	},{
		weekday: "fri",
		instructor: "Dianne",
		location: "BA1070",
		start: 10,
		end: 11,
		type: "tut"
	}],
	score: 0
}
var mat223l0101 = {
	courseCode: "mat223",
	sectionCode: "L0101",
	tittle:'',
	description:'',
	time: [{
		weekday: "tue",
		instructor: "Dianne",
		location: "BA1070",
		start: 10,
		end: 12,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 14,
		end: 15,
		type: "tut"
	}],
	score: 0
}
var mat223l0102 = {
	courseCode: "mat223",
	sectionCode: "L0102",
	tittle:'',
	description:'',
	time: [{
		weekday: "tue",
		instructor: "Dianne",
		location: "BA1070",
		start: 10,
		end: 12,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 13,
		end: 14,
		type: "tut"
	}],
	score: 0
}
var phl245l0101 = {
	courseCode: "phl245",
	sectionCode: "L0101",
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 14,
		end: 16,
		type: "lec"
	},{
		weekday: "wed",
		instructor: "Dianne",
		location: "BA1070",
		start: 14,
		end: 15,
		type: "lec"
	}],
	score: 0
}
var phl246l5101 = {
	courseCode: "phl246",
	sectionCode: "L5101",
	tittle:'',
	description:'',
	time: [{
		weekday: "mon",
		instructor: "Dianne",
		location: "BA1070",
		start: 18,
		end: 21,
		type: "lec"
	}],
	score: 0
}
var courselist = [
	[csc108l0101, csc108l0102, csc108l0201, csc108l0501],
	[csc165l0101, csc165l0201],
	[mat137l0101, mat137l0201],
	[mat223l0101, mat223l0102],
	[phl245l0101],
	[phl246l5101]
];

var over_lap = function(a, b) {
	for (var i = 0; i < a.length; i++) {
		for (var j = 0; j < b.length; j++) {
			if (a[i].weekday == b[j].weekday && 
				Math.max(a[i].start, b[j].start) 
				< Math.min(a[i].end, b[j].end))
				return true;
		}
	}
	return false;
}

var backtrack = function(currentlist, courselist, result) {
	if (currentlist.length == courselist.length) {
		result.push(JSON.parse(JSON.stringify(currentlist)));
	} else {
		var deapth = currentlist.length;
		for (var i = 0; i < courselist[deapth].length; i++) {
			var ok = true;
			for (var j = 0; j < deapth; j++) 
				if (over_lap(courselist[deapth][i].time, currentlist[j].time))
					ok = false;
			if (ok) {
				currentlist.push(courselist[deapth][i]);
				backtrack(currentlist, courselist, result);
				currentlist.pop();
			}
		}
	}
}

var compute_valid_solutions = function(courselist) {
	result = [];
	currentlist = [];
	backtrack(currentlist, courselist, result);
	return result;
}

/* res = compute_valid_solutions(courselist);
	// output example
	[
		[csc108l0101, csc165l0101, mat137l0101, mat223l0102, phl245l0101, phl246l5101], // solution_one, best
		[csc108l0101, csc165l0101, mat137l0201, mat223l0102, phl245l0101, phl246l5101], // solution_two
		[csc108l0102, csc165l0101, mat137l0101, mat223l0102, phl245l0101, phl246l5101], // solution_three
		[csc108l0501, csc165l0101, mat137l0101, mat223l0102, phl245l0101, phl246l5101], // solution_four
		[csc108l0501, csc165l0101, mat137l0201, mat223l0102, phl245l0101, phl246l5101]	// solution_five, worse
	];
*/